<link rel="stylesheet" href="css/categorias.css" />
    
    <div ng-include="'html/topbar.html'"></div>
        
    <section>
      <br />
      <br />
      <br />
      <br />
      <div class="row">
        <div class="large-12 columns">
            <table>
                <div class="row encabezado">
                    <h4 class="titulo">Categorías</h4>
                </div>
            <thead>                                                              
              <tr>
                <th>Id Categoría</th>
                <th>Nombre de la categoría</th>
                <th>Subscripcion</th>
                <th>Acciones</th>            
              </tr>
            </thead>        
            <tbody>
              <tr ng-repeat="categoria in categorias">
                <td>{{categoria.id_c}}</td>
                <td>
                  {{categoria.nombre}}
                </td>
                <td>{{categoria.nombre_subscripcion}}</td>
                <td> 
                    <button class="button warning" data-open="editar-cat" ng-click="setCategoryToUpdate(categoria);">
                        <i class="fi-pencil"></i>
                    </button>
                    <button class="button alert" data-open="del-cat" ng-click="setCategoriaToDelete(categoria);">
                        <i class="fi-trash"></i>
                    </button>
                </td>
              </tr>
            </tbody>
          </table> 
        </div>
      </div>
      
      <div class="row"> 
          <div class="large-7 columns">
              <button class="button success" data-open="crear-cat">
                  <i class="fi-plus"> Crear categoria</i>
                </button>
          </div>          
        </div>    
      
    </section>

    <div class="reveal row" id="editar-cat" data-reveal role="dialog">    
      <div class="large-12 columns">
          <h4 class="text-center">Editor de categoría</h4>
          <hr>
          <p>
            Llene los siguientes campos para editar la categoría seleccionada
          </p>      
          <div class="large-12 columns">
              <form>        
                <label>Nombre de la categoría
                    <input ng-model="categoryToUpdate.nombre" type="text" placeholder="Categoria">
                </label>
                <label>Subscripcion
                    <select ng-model="categoryToUpdate.id_s">      
                        <option value="" disabled selected>Selecciona un tipo de subscripcion</option>                  
                        <option ng-repeat="subscripcion in subscripciones" value="{{subscripcion.id_s}}">{{subscripcion.nombre}}</option>                      
                    </select>
                </label>                
                <p>
                    <button data-close ng-click="updateCategory();" class="button expanded success">Actualizar</button>
                </p>                                
                </form> 
                <br />                                         
            </div>   
          <button
            class="close-button"
            data-close
            aria-label="Close modal"
            type="button"
          >
            <span aria-hidden="true">&times;</span>
          </button>      
      </div>       
      
    </div>    
    <div class="reveal" id="crear-cat" data-reveal>      
        <div class="row">
            <div class="large-12 columns">    
                <h4 class="text-center">Crear nueva categoría</h4>
                <hr>
                <p>
                  Llene los siguientes campos para crear una nueva categoría
                </p>      
                      <div class="large-12 columns">
                        <form>        
                          <label>Nombre de la categoría
                              <input ng-model="createName" type="text" placeholder="Categoria">
                          </label>
                          <label>Subscripcion
                              <select ng-model="createIdS">      
                                  <option value="" disabled selected>Selecciona un tipo de subscripcion</option>                  
                                  <option ng-repeat="subscripcion in subscripciones" value="{{subscripcion.id_s}}">{{subscripcion.nombre}}</option>                      
                              </select>
                          </label>                
                          <p>
                              <button data-close ng-click="createCategory();" class="button expanded success">Agregar</button>
                          </p>                                
                          </form> 
                          <br />                                         
                      </div>    
              </div>
        </div>    
    </div>

    <div class="reveal" id="del-cat" data-reveal>      
            <h4 class="text-center">Eliminar categoría</h4>
            <hr>
            <p>
              ¿Está seguro que desea eliminar esta categoría?
            </p>      
            <p>
                <button class="button" data-close aria-label="Close modal">Cancelar</button>
                <button class="button alert" data-close ng-click="deleteCategory();">Eliminar</button>                  
            </p>                                
    </div>    